[project]
name = "rsstvlm"
version = "0.1.0"
description = "Add your description here"
readme = "README.md"
requires-python = ">=3.12"
dependencies = [
    "cartopy>=0.25.0",
    "contextily>=1.6.2",
    "geopandas>=1.1.1",
    "h5py>=3.14.0",
    "httpx>=0.28.1",
    "jupyter>=1.1.1",
    "llama-cloud-services>=0.6.54",
    "llama-index>=0.12.52",
    "mcp[cli]>=1.18.0",
    "pandas>=2.3.2",
    "pyproj>=3.7.2",
    "pytest>=8.4.2",
    "requests>=2.32.5",
    "rioxarray>=0.19.0",
    "salem>=0.3.11",
    "tqdm>=4.67.1",
    "xarray>=2025.10.1",
    "xesmf>=0.8.10",
    "xlrd>=2.0.2",
    "torch==2.7.1",
    "torchvision==0.22.1",
    "qwen-vl-utils==0.0.14",
]

[tool.uv.sources]
torch = [
    { index = "pytorch-cu118" },
]
torchvision = [
    { index = "pytorch-cu118" },
]

[[tool.uv.index]]
name = "pytorch-cu118"
url = "https://download.pytorch.org/whl/cu118"
explicit = true

[tool.ruff]
line-length = 79
exclude = ["tests/fixtures"]
target-version = "py312"
src = ["src"]

[tool.ruff.lint]
extend-select = [
  "I",    # isort
  "B",    # flake8-bugbear
  "C4",   # flake8-comprehensions
  "FA",   # flake8-future-annotations
  "PGH",  # pygrep-hooks
  "RUF",  # ruff
  "W",    # pycodestyle
  "UP",   # pyupgrade
  "YTT",  # flake8-2020
]
extend-ignore = ["B018", "B019", "RUF018"]

[tool.ruff.lint.mccabe]
max-complexity = 10

[tool.ruff.lint.isort]
known-first-party = ["pdm"]

[tool.towncrier]
package = "pdm"
filename = "CHANGELOG.md"
issue_format = "[#{issue}](https://github.com/pdm-project/pdm/issues/{issue})"
directory = "news/"
title_format = "## Release v{version} ({project_date})"
underlines = ["", "", ""]

  [[tool.towncrier.type]]
  directory = "break"
  name = "Breaking Changes"
  showcontent = true

  [[tool.towncrier.type]]
  directory = "feature"
  name = "Features & Improvements"
  showcontent = true

  [[tool.towncrier.type]]
  directory = "bugfix"
  name = "Bug Fixes"
  showcontent = true

  [[tool.towncrier.type]]
  directory = "doc"
  name = "Documentation"
  showcontent = true

  [[tool.towncrier.type]]
  directory = "dep"
  name = "Dependencies"
  showcontent = true

  [[tool.towncrier.type]]
  directory = "removal"
  name = "Removals and Deprecations"
  showcontent = true

  [[tool.towncrier.type]]
  directory = "misc"
  name = "Miscellany"
  showcontent = true
